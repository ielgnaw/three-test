<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>svg-test</title>
        <style type="text/css">
            svg {
                -webkit-transform: scale(1.5, 1.5);
                        transform: scale(1.5, 1.5);
                margin: 150px 0;
            }
        </style>
        <link href="" rel="stylesheet">
    </head>
    <body>
        <div id="holder"></div>
        <div class="full-sketch-container" style="display: block;">
            <svg xmlns="http://www.w3.org/2000/svg" height="200" width="960" viewBox="0 0 960 200" style="visibility: hidden;">
                <style>
                path {fill: none; stroke: #306eff; stroke-width: 1; }
                </style>

                <path d="M0,121.1
    c0,0,139.199-7.197,208.04-7.197c68.84,0,256.423,8.584,336.565,11.653c80.143,3.069,252.938-1.714,301.607-3.77
    C894.88,119.73,960,122.471,960,122.471">
                    <animate id="a1" attributeType="CSS" attributeName="opacity" from="0" to="1" dur="1s"/>
                    <animate id="a2" attributeName="d" dur="0.05s" begin="a1.end" fill="freeze"
                        from="M0,121.1
    c0,0,139.199-7.197,208.04-7.197c68.84,0,256.423,8.584,336.565,11.653c80.143,3.069,252.938-1.714,301.607-3.77
    C894.88,119.73,960,122.471,960,122.471"
                        to="M-0.375,122.38
    c57.538,0,68.921,2.742,113.102,2.742c44.181,0,71.716-18.493,118.98-18.493s84.624,17.46,129.503,19.179
    c31.301,1.199,66.523-11.363,107.622-11.363c41.099,0,62.408,14.447,109.672,14.447s68.771-11.597,119.117-11.597
    c50.346,0,64.441,3.629,118.897,3.629c54.456,0,93.789,2.827,143.108,2.827"
                    />
                    <animate id="a3" attributeName="d" dur="0.05s" begin="a2.end" fill="freeze"
                        from="M-0.375,122.38
    c57.538,0,68.921,2.742,113.102,2.742c44.181,0,71.716-18.493,118.98-18.493s84.624,17.46,129.503,19.179
    c31.301,1.199,66.523-11.363,107.622-11.363c41.099,0,62.408,14.447,109.672,14.447s68.771-11.597,119.117-11.597
    c50.346,0,64.441,3.629,118.897,3.629c54.456,0,93.789,2.827,143.108,2.827"
                        to="M0.25,125.808
    c57.538,0,68.921,2.742,113.102,2.742c44.181,0,71.716-25.348,118.98-25.348s84.624,24.315,129.503,26.033
    c31.301,1.199,66.523-18.217,107.622-18.217c41.099,0,62.408,21.302,109.672,21.302s68.771-18.452,119.117-18.452
    c50.346,0,64.441,10.484,118.897,10.484c54.456,0,93.789,2.827,143.108,2.827"
                    />
                    <animate id="a4" attributeName="d" dur="0.05s" begin="a3.end" fill="freeze"
                        from="M0.25,125.808
    c57.538,0,68.921,2.742,113.102,2.742c44.181,0,71.716-25.348,118.98-25.348s84.624,24.315,129.503,26.033
    c31.301,1.199,66.523-18.217,107.622-18.217c41.099,0,62.408,21.302,109.672,21.302s68.771-18.452,119.117-18.452
    c50.346,0,64.441,10.484,118.897,10.484c54.456,0,93.789,2.827,143.108,2.827"
                        to="M0,110.042
    c57.538,0,68.921,21.935,113.102,21.935c44.181,0,71.716-32.203,118.98-32.203s84.624,31.169,129.503,32.888
    c31.301,1.199,66.523-25.072,107.622-25.072c41.099,0,62.408,28.157,109.672,28.157s68.771-25.306,119.117-25.306
    c50.346,0,64.441,17.339,118.897,17.339c54.456,0,93.789-16.367,143.108-16.367"
                    />
                    <animate id="a5" attributeName="d" dur="0.05s" begin="a4.end" fill="freeze"
                        from="M0,110.042
    c57.538,0,68.921,21.935,113.102,21.935c44.181,0,71.716-32.203,118.98-32.203s84.624,31.169,129.503,32.888
    c31.301,1.199,66.523-25.072,107.622-25.072c41.099,0,62.408,28.157,109.672,28.157s68.771-25.306,119.117-25.306
    c50.346,0,64.441,17.339,118.897,17.339c54.456,0,93.789-16.367,143.108-16.367"
                        to="M0,88.358
    c57.538,0,68.921,51.753,113.102,51.753c44.181,0,71.716-53.795,118.979-53.795c47.264,0,84.624,52.762,129.503,54.48
    c31.301,1.199,66.523-46.664,107.622-46.664c41.099,0,62.408,49.749,109.672,49.749c47.264,0,68.771-46.899,119.117-46.899
    s64.441,38.931,118.897,38.931c54.456,0,93.789-46.184,143.108-46.184"
                    />
                    <animate id="a6" attributeName="d" dur="0.05s" begin="a5.end" fill="freeze"
                        from="M0,88.358
    c57.538,0,68.921,51.753,113.102,51.753c44.181,0,71.716-53.795,118.979-53.795c47.264,0,84.624,52.762,129.503,54.48
    c31.301,1.199,66.523-46.664,107.622-46.664c41.099,0,62.408,49.749,109.672,49.749c47.264,0,68.771-46.899,119.117-46.899
    s64.441,38.931,118.897,38.931c54.456,0,93.789-46.184,143.108-46.184"
                        to="M0,87.77
    c57.538,0,68.921,92.881,113.102,92.881c44.181,0,71.716-136.051,118.98-136.051s84.624,135.018,129.503,136.737
    c31.301,1.199,66.523-128.921,107.622-128.921c41.099,0,62.408,132.005,109.672,132.005S647.65,55.266,697.996,55.266
    c50.346,0,64.441,121.187,118.897,121.187c54.456,0,93.789-87.313,143.108-87.313"
                    />
                    <animate id="a7" attributeName="d" dur="0.05s" begin="a6.end" fill="freeze"
                        from="M0,87.77
    c57.538,0,68.921,92.881,113.102,92.881c44.181,0,71.716-136.051,118.98-136.051s84.624,135.018,129.503,136.737
    c31.301,1.199,66.523-128.921,107.622-128.921c41.099,0,62.408,132.005,109.672,132.005S647.65,55.266,697.996,55.266
    c50.346,0,64.441,121.187,118.897,121.187c54.456,0,93.789-87.313,143.108-87.313"
                        to="M0.25,88.052
    c57.538,0,68.921,106.591,113.102,106.591c44.181,0,71.716-184.034,118.98-184.034s84.624,183.001,129.503,184.719
    c31.301,1.199,66.523-176.903,107.622-176.903c41.099,0,62.408,179.988,109.672,179.988S647.9,21.275,698.246,21.275
    c50.346,0,64.441,169.17,118.897,169.17c54.456,0,93.789-101.022,143.108-101.022"
                    />
                    <animate id="a8" attributeName="d" dur="0.05s" begin="a7.end" fill="freeze"
                        from="M0.25,88.052
    c57.538,0,68.921,106.591,113.102,106.591c44.181,0,71.716-184.034,118.98-184.034s84.624,183.001,129.503,184.719
    c31.301,1.199,66.523-176.903,107.622-176.903c41.099,0,62.408,179.988,109.672,179.988S647.9,21.275,698.246,21.275
    c50.346,0,64.441,169.17,118.897,169.17c54.456,0,93.789-101.022,143.108-101.022"
                        to="M0,87.77
    c57.538,0,68.921,92.881,113.102,92.881c44.181,0,71.716-136.051,118.98-136.051s84.624,135.018,129.503,136.737
    c31.301,1.199,66.523-128.921,107.622-128.921c41.099,0,62.408,132.005,109.672,132.005S647.65,55.266,697.996,55.266
    c50.346,0,64.441,121.187,118.897,121.187c54.456,0,93.789-87.313,143.108-87.313"
                    />
                    <animate id="a9" attributeName="d" dur="0.05s" begin="a8.end" fill="freeze"
                        from="M0,87.77
    c57.538,0,68.921,92.881,113.102,92.881c44.181,0,71.716-136.051,118.98-136.051s84.624,135.018,129.503,136.737
    c31.301,1.199,66.523-128.921,107.622-128.921c41.099,0,62.408,132.005,109.672,132.005S647.65,55.266,697.996,55.266
    c50.346,0,64.441,121.187,118.897,121.187c54.456,0,93.789-87.313,143.108-87.313"
                        to="M0,88.358
    c57.538,0,68.921,51.753,113.102,51.753c44.181,0,71.716-53.795,118.979-53.795c47.264,0,84.624,52.762,129.503,54.48
    c31.301,1.199,66.523-46.664,107.622-46.664c41.099,0,62.408,49.749,109.672,49.749c47.264,0,68.771-46.899,119.117-46.899
    s64.441,38.931,118.897,38.931c54.456,0,93.789-46.184,143.108-46.184"
                    />
                    <animate id="a10" attributeName="d" dur="0.05s" begin="a9.end" fill="freeze"
                        from="M0,88.358
    c57.538,0,68.921,51.753,113.102,51.753c44.181,0,71.716-53.795,118.979-53.795c47.264,0,84.624,52.762,129.503,54.48
    c31.301,1.199,66.523-46.664,107.622-46.664c41.099,0,62.408,49.749,109.672,49.749c47.264,0,68.771-46.899,119.117-46.899
    s64.441,38.931,118.897,38.931c54.456,0,93.789-46.184,143.108-46.184"
                        to="M0,110.042
    c57.538,0,68.921,21.935,113.102,21.935c44.181,0,71.716-32.203,118.98-32.203s84.624,31.169,129.503,32.888
    c31.301,1.199,66.523-25.072,107.622-25.072c41.099,0,62.408,28.157,109.672,28.157s68.771-25.306,119.117-25.306
    c50.346,0,64.441,17.339,118.897,17.339c54.456,0,93.789-16.367,143.108-16.367"
                    />
                    <animate id="a11" attributeName="d" dur="0.05s" begin="a10.end" fill="freeze"
                        from="M0,110.042
    c57.538,0,68.921,21.935,113.102,21.935c44.181,0,71.716-32.203,118.98-32.203s84.624,31.169,129.503,32.888
    c31.301,1.199,66.523-25.072,107.622-25.072c41.099,0,62.408,28.157,109.672,28.157s68.771-25.306,119.117-25.306
    c50.346,0,64.441,17.339,118.897,17.339c54.456,0,93.789-16.367,143.108-16.367"
                        to="M0.25,125.808
    c57.538,0,68.921,2.742,113.102,2.742c44.181,0,71.716-25.348,118.98-25.348s84.624,24.315,129.503,26.033
    c31.301,1.199,66.523-18.217,107.622-18.217c41.099,0,62.408,21.302,109.672,21.302s68.771-18.452,119.117-18.452
    c50.346,0,64.441,10.484,118.897,10.484c54.456,0,93.789,2.827,143.108,2.827"
                    />
                    <animate id="a12" attributeName="d" dur="0.05s" begin="a11.end" fill="freeze"
                        from="M0.25,125.808
    c57.538,0,68.921,2.742,113.102,2.742c44.181,0,71.716-25.348,118.98-25.348s84.624,24.315,129.503,26.033
    c31.301,1.199,66.523-18.217,107.622-18.217c41.099,0,62.408,21.302,109.672,21.302s68.771-18.452,119.117-18.452
    c50.346,0,64.441,10.484,118.897,10.484c54.456,0,93.789,2.827,143.108,2.827"
                        to="M-0.375,122.38
    c57.538,0,68.921,2.742,113.102,2.742c44.181,0,71.716-18.493,118.98-18.493s84.624,17.46,129.503,19.179
    c31.301,1.199,66.523-11.363,107.622-11.363c41.099,0,62.408,14.447,109.672,14.447s68.771-11.597,119.117-11.597
    c50.346,0,64.441,3.629,118.897,3.629c54.456,0,93.789,2.827,143.108,2.827"
                    />
                    <animate id="a13" attributeName="d" dur="0.05s" begin="a12.end" fill="freeze"
                        from="M-0.375,122.38
    c57.538,0,68.921,2.742,113.102,2.742c44.181,0,71.716-18.493,118.98-18.493s84.624,17.46,129.503,19.179
    c31.301,1.199,66.523-11.363,107.622-11.363c41.099,0,62.408,14.447,109.672,14.447s68.771-11.597,119.117-11.597
    c50.346,0,64.441,3.629,118.897,3.629c54.456,0,93.789,2.827,143.108,2.827"
                        to="M0,121.1
    c0,0,139.199-7.197,208.04-7.197c68.84,0,256.423,8.584,336.565,11.653c80.143,3.069,252.938-1.714,301.607-3.77
    C894.88,119.73,960,122.471,960,122.471"
                    />
                    <animate id="a14" attributeName="d" dur="0.05s" begin="a13.end" fill="freeze"
                        from="M0,121.1
    c0,0,139.199-7.197,208.04-7.197c68.84,0,256.423,8.584,336.565,11.653c80.143,3.069,252.938-1.714,301.607-3.77
    C894.88,119.73,960,122.471,960,122.471"
                        to="M0,119.376
    c0,0,166.226-8.568,208.04-7.197s161.085,19.536,188.504,9.939c42.728-14.955,17.478-38.169,30.846-46.612
    c6.512-4.113,19.422-3.656,21.25-15.766c2.285-6.398-0.228-10.054,4.798-17.822c5.027-7.769,17.137-17.137,27.419-17.137
    s21.935,10.054,26.048,17.137s4.57,6.855,4.798,13.709c0.457,13.709,16.794,16.794,19.193,22.62
    c2.399,5.826,1.371,13.024,1.371,13.024l-49.354-0.685v-7.54h-5.484v8.911l0.685,23.991h3.427l17.822-12.338
    c0,0,5.772-6.426,28.104,4.113c12.201,5.758,73.369,13.024,106.248,19.193s115.844-4.798,164.513-6.855
    C846.898,118.005,960,120.747,960,120.747"
                    />
                    <animate id="a15" attributeName="d" dur="0.05s" begin="a14.end" fill="freeze"
                        from="M0,119.376
    c0,0,166.226-8.568,208.04-7.197s161.085,19.536,188.504,9.939c42.728-14.955,17.478-38.169,30.846-46.612
    c6.512-4.113,19.422-3.656,21.25-15.766c2.285-6.398-0.228-10.054,4.798-17.822c5.027-7.769,17.137-17.137,27.419-17.137
    s21.935,10.054,26.048,17.137s4.57,6.855,4.798,13.709c0.457,13.709,16.794,16.794,19.193,22.62
    c2.399,5.826,1.371,13.024,1.371,13.024l-49.354-0.685v-7.54h-5.484v8.911l0.685,23.991h3.427l17.822-12.338
    c0,0,5.772-6.426,28.104,4.113c12.201,5.758,73.369,13.024,106.248,19.193s115.844-4.798,164.513-6.855
    C846.898,118.005,960,120.747,960,120.747"
                        to="M0,121.921
    c0,0,198.135-6.169,246.426-3.085s136.408,12.681,163.827,3.085c27.419-9.597,41.128-30.161,41.128-30.161h-21.935
    c0,0-1.714-12.338,4.798-16.451s19.422-3.656,21.25-15.766c2.285-6.398-0.228-16.908,4.798-24.677
    c5.027-7.769,10.282-17.137,20.564-17.137s15.08,10.054,19.193,17.137c4.113,7.083,4.57,13.709,4.798,20.564
    c0.457,13.709,16.794,16.794,19.193,22.62c2.399,5.826,1.371,13.024,1.371,13.024l-42.499-0.685V75.994
    c0,0,8.226-3.427,8.226-10.282c0-6.855-5.484-10.282-11.653-10.282c-6.169,0-10.282,4.798-10.282,10.968s8.226,9.597,8.226,9.597
    V91.76h-16.451l1.397,10.167l5.303,1.169l10.436,12.656h3.427l10.967-12.338l4.798-1.371v-7.54
    c7.266,1.508,11.105,7.266,23.306,13.024c12.201,5.758,39.095,13.024,71.974,19.193c32.879,6.169,136.408-3.427,164.513-4.113
    S960,121.921,960,121.921"
                    />
                    <animate id="a16" attributeName="d" dur="0.05s" onend="end"  begin="a15.end" fill="freeze"
                        from="M0,121.921
    c0,0,198.135-6.169,246.426-3.085s136.408,12.681,163.827,3.085c27.419-9.597,41.128-30.161,41.128-30.161h-21.935
    c0,0-1.714-12.338,4.798-16.451s19.422-3.656,21.25-15.766c2.285-6.398-0.228-16.908,4.798-24.677
    c5.027-7.769,10.282-17.137,20.564-17.137s15.08,10.054,19.193,17.137c4.113,7.083,4.57,13.709,4.798,20.564
    c0.457,13.709,16.794,16.794,19.193,22.62c2.399,5.826,1.371,13.024,1.371,13.024l-42.499-0.685V75.994
    c0,0,8.226-3.427,8.226-10.282c0-6.855-5.484-10.282-11.653-10.282c-6.169,0-10.282,4.798-10.282,10.968s8.226,9.597,8.226,9.597
    V91.76h-16.451l1.397,10.167l5.303,1.169l10.436,12.656h3.427l10.967-12.338l4.798-1.371v-7.54
    c7.266,1.508,11.105,7.266,23.306,13.024c12.201,5.758,39.095,13.024,71.974,19.193c32.879,6.169,136.408-3.427,164.513-4.113
    S960,121.921,960,121.921"
                        to="M0,125.161
    c0,0,270.109-2.742,318.401,0.343c48.291,3.085,73.345,6.512,100.764-3.085c27.419-9.597,42.499-30.161,42.499-30.161h-22.62
    c0,0-1.714-12.338,4.798-16.451c6.512-4.113,13.252-6.398,15.08-18.508c2.285-6.398-0.228-24.448,4.798-32.217
    c5.027-7.769,6.169-18.508,16.451-18.508s11.653,9.368,15.766,16.451c4.113,7.083,4.57,26.733,4.798,33.588
    c0.457,13.709,16.794,16.794,19.193,22.62c2.399,5.826,1.371,13.024,1.371,13.024h-39.072V53.872c0,0,8.226-3.427,8.226-10.282
    s-4.113-10.282-10.282-10.282s-10.282,4.113-10.282,10.282s8.226,10.282,8.226,10.282v38.386h-11.653l0.026,10.167l5.303,1.169
    l6.324,31.849h3.427l6.855-31.532l4.798-1.371V95c7.266,1.508,15.217,7.266,27.419,13.024c12.201,5.758,25.386,13.024,58.265,19.193
    c32.879,6.169,74.716-2.056,102.82-2.742S960,123.79,960,123.79"
                    />
                </path>
            </svg>
        </div>
        <script>
            (function () {
                var supportsInlineSvg = (function() {
                    var div = document.createElement('div');
                    div.innerHTML = '<svg/>';
                    return (div.firstChild && div.firstChild.namespaceURI) == 'http://www.w3.org/2000/svg';
                }());

                var supportsInputRange = (function() {
                    var input = document.createElement('input');
                    input.setAttribute('type', 'range');
                    return input.type != 'text';
                }());

                document.documentElement.className += (supportsInlineSvg ? ' inline-svg' : '') + (supportsInputRange ? ' input-range' : '');

                if (!supportsInlineSvg) return;

                var svg = document.querySelector('.full-sketch-container svg');
                svg.parentNode.style.display = 'block';
                svg.style.visibility = '';
                svg.style.width = window.innerWidth + 'px';
                svg.setAttribute('width', window.innerWidth);

                window.end = function () {
                    console.warn('end');
                    // setTimeout(function () {
                    //     var path = document.querySelector('.full-sketch-container path');
                    //     var length = path.getTotalLength(); // 清除之前的动作
                    //     path.style.transition = path.style.WebkitTransition = 'none'; // 设置起始点
                    //     path.style.strokeDasharray = length + ' ' + length;
                    //     path.style.strokeDashoffset = 0; // 获取一个区域，获取相关的样式，让浏览器寻找一个起始点。
                    //     path.getBoundingClientRect(); // 定义动作
                    //     path.style.transition = path.style.WebkitTransition = 'stroke-dashoffset 2s ease-in-out'; // Go!
                    //     path.style.strokeDashoffset = length;
                    //     setTimeout(function () {
                    //         console.warn('over');
                    //     }, 2000);
                    // }, 500);
                }

                // var path = document.querySelector('.full-sketch-container path');
                // var length = path.getTotalLength(); // 清除之前的动作
                // path.style.transition = path.style.WebkitTransition = 'none'; // 设置起始点
                // path.style.strokeDasharray = length + ' ' + length;
                // path.style.strokeDashoffset = 0; // 获取一个区域，获取相关的样式，让浏览器寻找一个起始点。
                // path.getBoundingClientRect(); // 定义动作
                // path.style.transition = path.style.WebkitTransition = 'stroke-dashoffset 2s ease-in-out'; // Go!
                // path.style.strokeDashoffset = length;

                // function toArray(arr) {
                //     return Array.prototype.slice.call(arr);
                // }

                // var svg = document.querySelector('.full-sketch-container svg');
                // svg.parentNode.style.display = 'block';
                // svg.style.visibility = 'hidden';

                // function fullSketch() {
                //     svg.style.visibility = '';
                //     var paths = toArray(svg.querySelectorAll('path:not(.shade)'));
                //     // paths.push(svg.querySelector('.shade'));
                //     var begin = 0;

                //     var durations = paths.map(function (path) {
                //         var length = path.getTotalLength();
                //         console.warn(length);
                //         var className = path.getAttribute('class') || '';

                //         path.style.strokeDasharray = length + ' ' + length;
                //         path.style.strokeDashoffset = length;
                //         // path.style.strokeDashoffset = 0;

                //         // no classList on svg elements in Safari :(
                //         if (className.indexOf('shade') != -1) {
                //             return 5;
                //         }
                //         else if (className.indexOf('letter') != -1) {
                //             return Math.pow(length, 0.5) * 0.02 * 3 ;
                //         }
                //         else {
                //             return Math.pow(length, 0.5) * 0.03 * 3 ;
                //         }
                //     });

                //     // triggering a reflow so styles are calculated in their
                //     // start position, so they animate from here
                //     paths[0].getBoundingClientRect();

                //     paths.forEach(function(path, i) {
                //         path.style.transition = path.style.WebkitTransition = 'stroke-dashoffset ' + durations[i] + 's ' + begin + 's ease-in-out';
                //         path.style.strokeDashoffset = '0';
                //         console.warn(path.style.strokeDashoffset);
                //         // path.style.strokeDashoffset = length;
                //         begin += durations[i] + 0.1;
                //     });

                // }

                // window.addEventListener('load', fullSketch);
            }());
            </script>
    </body>
</html>
