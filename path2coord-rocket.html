<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<style type="text/css">
    path {
        fill: none;
        stroke: #000;
        stroke-width: 1px;
    }

    circle {
        fill: red;
        stroke: #fff;
        stroke-width: 1px;
    }
    body {
        margin: 0
    }
​</style>
</head>
<body>
    <div id="log" style="margin:10px;margin-top: 200px;position: absolute;"></div>
    <!-- <svg class="svg-container" width="960" height="200"><path d="M5.353,155.316c13.255-0.591,25.595-2.021,33.812-4.897c27.419-9.597,42.499-30.161,42.499-30.161h-22.62c0,0-1.714-12.338,4.798-16.451c6.512-4.113,13.252-6.398,15.08-18.508c2.285-6.398-0.228-24.448,4.798-32.217c5.027-7.769,6.169-18.508,16.451-18.508s11.653,9.368,15.766,16.451s4.57,26.733,4.798,33.588c0.457,13.709,16.794,16.794,19.193,22.62s1.371,13.024,1.371,13.024h-39.072V81.872c0,0,8.226-3.427,8.226-10.282s-4.113-10.282-10.282-10.282S89.889,65.421,89.889,71.59s8.226,10.282,8.226,10.282v38.386H86.462l0.026,10.167l5.303,1.169l6.324,31.849h3.427l6.855-31.532l4.798-1.371V123c7.266,1.508,15.217,7.266,27.419,13.024c12.201,5.758,35.886,18.809,58.265,19.193"></path><circle r="1" transform="translate(183.1570587158203,153.1313934326172)"></circle></svg> -->
    <script type="text/javascript" src="./d3.v2.js"></script>
    <script type="text/javascript">

        var svg = d3.select('body').append('svg')
            .attr('width', 960)
            .attr('height', 200);

        var path = svg.append('path')
            .attr('d',
                // 'M1,125.161c0,0,270.109-2.742,318.401,0.343c48.291,3.085,73.345,6.512,100.764-3.085s42.499-30.161,42.499-30.161h-22.62c0,0-1.714-12.338,4.798-16.451c6.512-4.113,13.252-6.398,15.08-18.508c2.285-6.398-0.228-24.448,4.798-32.217c5.027-7.769,6.169-18.508,16.451-18.508s11.653,9.368,15.766,16.451s4.57,26.733,4.798,33.588c0.457,13.709,16.794,16.794,19.193,22.62s1.371,13.024,1.371,13.024h-39.072V53.872c0,0,8.226-3.427,8.226-10.282s-4.113-10.282-10.282-10.282s-10.282,4.113-10.282,10.282s8.226,10.282,8.226,10.282v38.386h-11.653l0.026,10.167l5.303,1.169l6.324,31.849h3.427l6.855-31.532l4.798-1.371V95c7.266,1.508,15.217,7.266,27.419,13.024c12.201,5.758,25.386,13.024,58.265,19.193s74.716-2.056,102.82-2.742S961,123.79,961,123.79'
                'M0,164c0,0,120.6-15.76,195.289-13.362s196.66,6.51,224.069-3.084c27.409-9.593,42.484-30.15,42.484-30.15h-22.612c0,0-1.713-12.334,4.797-16.445c6.51-4.111,13.248-6.395,15.075-18.501c2.284-6.395-0.228-24.44,4.797-32.206c5.025-7.766,6.167-18.501,16.445-18.501c10.278,0,11.649,9.365,15.76,16.445c4.111,7.081,4.568,26.724,4.797,33.576c0.457,13.704,16.788,16.788,19.186,22.612c2.398,5.824,1.37,13.019,1.37,13.019h-39.058V79.032c0,0,8.223-3.426,8.223-10.278s-4.111-10.278-10.278-10.278s-10.278,4.111-10.278,10.278s8.223,10.278,8.223,10.278v38.373h-11.649l0.026,10.163l5.302,1.169l6.321,31.837h3.426l6.852-31.52l4.797-1.37v-7.537c7.263,1.507,15.212,7.263,27.409,13.019s25.377,13.019,58.244,19.186c32.867,6.167,93.191-5.482,219.272-2.741C924.368,152.351,960,162.63,960,162.63'
            );

        var circle = svg.append('circle').attr({
            'r': 1,
            'transform': 'translate(5.353, 155.316)'
        });

        transition();

        function transition() {
            circle.transition()
                .duration(10000)
                .delay(2000)
                .ease('linear')
                .attrTween('transform', translateAlong(path.node()))
                .each('end', function () {
                    log.innerHTML = arr.join('<br>');
                })
        }

        var arr = [];
        var first;

        function translateAlong(path) {
            var l = path.getTotalLength();
            return function(d, i, a) {
                return function(t) {
                    var p = path.getPointAtLength(t * l);
                    if (first === void 0) {
                        first = p.x;
                    }
                    arr.push(''
                        // 30.75 变大往左
                        + (p.x / 15 - first - 31.7146).toFixed(3)
                        + ', '
                        + (-p.y / 15 + 10).toFixed(3)
                        + ', 0,');
                    return 'translate(' + p.x + ',' + p.y + ')';
                };
            };
        }

    </script>
</body>
</html>